Search.setIndex({"docnames": ["index", "pages/config", "pages/faq", "pages/guide"], "filenames": ["index.md", "pages/config.md", "pages/faq.md", "pages/guide.md"], "titles": ["Fish Diffusion", "Configuration", "FAQ", "Quick FishSVC Guide"], "terms": {"full": [0, 3], "function": 0, "high": 0, "perform": 0, "scrcpy": 0, "client": 0, "fishsvc": 0, "prepar": 0, "environ": 0, "dataset": [0, 2], "train": [0, 1], "time": 0, "infer": 0, "diff": [0, 1], "svc": [0, 1], "convers": 0, "TO": 0, "inferenc": 0, "diffsvc": [0, 2], "convert": [0, 2], "model": [0, 1, 2], "preprocess": [0, 2, 3], "appendix": 0, "pitch": 0, "extractor": 0, "faq": 0, "why": 0, "i": [0, 1, 3], "so": [0, 3], "slow": 0, "my": [0, 3], "devic": 0, "gener": [0, 3], "audio": [0, 3], "blurri": 0, "weird": 0, "see": [0, 1], "keyerror": 0, "pytorch": [0, 3], "lightning_vers": 0, "some": [0, 1], "error": [0, 3], "about": [0, 3], "miss": 0, "kei": [0, 3], "when": [0, 3], "resum": 0, "sinc": 1, "fish": 1, "diffus": [1, 3], "support": [1, 2, 3], "variou": 1, "modul": 1, "write": 1, "good": 1, "config": [1, 2, 3], "file": [1, 3], "essenti": 1, "There": 1, "ar": [1, 2, 3], "mani": [1, 3], "exampl": [1, 3], "folder": [1, 3], "To": [1, 2, 3], "begin": 1, "you": [1, 2, 3], "should": [1, 3], "creat": [1, 3], "exp_xxxxxx": 1, "py": [1, 3], "follow": [1, 3], "code": [1, 3], "_base_": [1, 3], "arch": 1, "diff_svc_v2": 1, "us": [1, 2, 3], "v2": 1, "architectur": 1, "trainer": [1, 3], "base": [1, 3], "default": [1, 3], "ddp": 1, "fp16": [1, 2], "schedul": 1, "warmup_cosin": 1, "cosin": 1, "learn": 1, "rate": 1, "scheulder": 1, "audio_fold": [1, 3], "dataload": 1, "current": [1, 2], "includ": [1, 3], "two": 1, "compon": 1, "text_features_extractor": 1, "pitch_extractor": 1, "stabl": 1, "featur": 1, "hubertsoft": 1, "chinesehubertsoft": 1, "although": 1, "chines": 1, "second": [1, 3], "one": [1, 3], "work": [1, 3], "multilingu": 1, "outperform": 1, "vanilla": 1, "extract": 1, "can": [1, 2, 3], "choos": [1, 3], "parselmouthpitchextractor": 1, "crepepitchextractor": 1, "parselmouth": 1, "enough": 1, "most": 1, "case": [1, 3], "": [1, 3], "liter": 1, "100x": 1, "faster": 1, "than": [1, 3], "crepe": 1, "howev": 1, "edg": 1, "more": [1, 2], "robust": 1, "For": 1, "result": 1, "dict": 1, "type": [1, 3], "pretrain": [1, 2], "true": 1, "lengyu": 1, "hubert": 1, "soft": 1, "gate_s": 1, "25": 1, "control": 1, "how": [1, 3], "much": 1, "inform": 1, "kept": 1, "too": 1, "larg": 1, "lead": 1, "leak": 1, "note": [1, 3], "need": [1, 2, 3], "rerun": 1, "command": [1, 3], "after": [1, 3], "chang": [1, 2, 3], "Be": 1, "try": [1, 3], "load": [1, 2], "data": [1, 3], "from": [1, 2, 3], "valid": [1, 3], "want": [1, 2, 3], "multi": [1, 3], "speaker": [1, 3], "refer": 1, "svc_hubert_soft_multi_speak": 1, "_delete_": 1, "delet": 1, "concatdataset": 1, "contact": 1, "multipl": 1, "audiofolderdataset": 1, "path": [1, 3], "speaker_0": 1, "first": [1, 3], "speaker_id": 1, "0": [1, 3], "speaker_1": 1, "1": 1, "ani": 1, "other": 1, "wai": 1, "do": [1, 3], "thi": [1, 2, 3], "collate_fn": 1, "onli": 1, "speaker_encod": 1, "input_s": 1, "2": [1, 3], "python": [1, 3], "script": 1, "like": [1, 3], "But": 1, "what": 1, "have": [1, 2, 3], "100": 1, "t": [1, 3], "setup": 1, "manual": [1, 3], "don": [1, 3], "know": 1, "worri": 1, "structur": [1, 2, 3], "speaker0": [1, 3], "xxx1": [1, 3], "wav": [1, 3], "speaker1": 1, "test": [1, 3], "pick": 1, "fish_diffus": 1, "import": 1, "speaker_map": 1, "get_speaker_map_from_subfold": 1, "updat": [1, 3], "subfold": [1, 3], "train_dataset": 1, "get_datasets_from_subfold": 1, "build": 1, "valid_dataset": 1, "len": 1, "repo": 1, "harvest": 1, "dio": 1, "we": [1, 2], "recommend": [1, 3], "If": [1, 2, 3], "your": [1, 2, 3], "small": 1, "probabl": [1, 2], "otherwis": [1, 3], "here": [1, 3], "comparis": 1, "pleas": 2, "make": [2, 3], "sure": [2, 3], "latest": [2, 3], "version": 2, "librari": 2, "cpu": [2, 3], "laptop": 2, "mai": [2, 3], "fp32": 2, "instead": [2, 3], "sound": 2, "noisi": 2, "wait": [2, 3], "step": [2, 3], "indic": 2, "which": [2, 3], "lightn": 2, "onnx": 2, "export": 2, "solv": 2, "problem": 2, "01": 3, "02": 3, "2023": 3, "made": 3, "kangarroar": 3, "instal": 3, "conda": 3, "pc": 3, "miniconda": 3, "eat": 3, "lot": 3, "disk": 3, "space": 3, "The": 3, "link": 3, "http": 3, "doc": 3, "io": 3, "en": 3, "html": 3, "3": 3, "10": 3, "won": 3, "abl": 3, "open": 3, "anaconda": 3, "window": 3, "press": 3, "smh": 3, "Then": 3, "name": 3, "onc": 3, "done": 3, "call": 3, "access": 3, "activ": 3, "alreadi": 3, "proce": 3, "etc": 3, "torchvis": 3, "torchaudio": 3, "cuda": 3, "11": 3, "7": 3, "c": 3, "nvidia": 3, "run": 3, "pip": 3, "poetri": 3, "finish": 3, "set": 3, "up": 3, "download": 3, "github": 3, "click": 3, "zip": 3, "decompress": 3, "wherev": 3, "On": 3, "point": 3, "where": 3, "all": 3, "just": 3, "explor": 3, "bar": 3, "copi": 3, "cd": 3, "user": 3, "document": 3, "difuss": 3, "And": 3, "requir": 3, "openvpi": 3, "441khz": 3, "nsf": 3, "hifigan": 3, "vocod": 3, "an": 3, "automat": 3, "tool": 3, "download_nsf_hifigan": 3, "It": 3, "start": 3, "put": 3, "checkpoint": 3, "until": 3, "directori": 3, "lxx": 3, "0xx8": 3, "subdirectori": 3, "also": 3, "xx2": 3, "0xxx2": 3, "xxx7": 3, "xxx007": 3, "insid": 3, "fail": 3, "unless": 3, "strongli": 3, "FOR": 3, "local": 3, "THAT": 3, "THE": 3, "aren": 3, "higher": 3, "long": 3, "IF": 3, "4gb": 3, "OF": 3, "vram": 3, "extract_featur": 3, "svc_hubert_soft": 3, "clean": 3, "take": 3, "5": 3, "minut": 3, "preprocces": 3, "generate_stat": 3, "input": 3, "dir": 3, "output": 3, "stat": 3, "json": 3, "batchsiz": 3, "accordingli": 3, "gpu": 3, "resourc": 3, "found": 3, "valu": 3, "batch": 3, "size": 3, "num_work": 3, "In": 3, "6": 3, "core": 3, "gtx": 3, "1650": 3, "number": 3, "worker": 3, "12": 3, "vari": 3, "better": 3, "baselin": 3, "get": 3, "out": 3, "memori": 3, "lower": 3, "everi": 3, "save": 3, "ckpt": 3, "By": 3, "000": 3, "line": 3, "20": 3, "every_n_train_step": 3, "10000": 3, "1000": 3, "ask": 3, "wandb": 3, "account": 3, "look": 3, "graph": 3, "similar": 3, "tensorboard": 3, "termin": 3, "show": 3, "w": 3, "b": 3, "fulli": 3, "right": 3, "now": 3, "drop": 3, "everyth": 3, "add": 3, "pitch_adjust": 3, "mean": 3, "log": 3, "render": 3, "end": 3, "8liv3": 3, "epoch": 3, "pretti": 3, "fast": 3, "actual": 3, "less": 3, "m": 3, "develop": 3, "gui": 3, "without": 3, "sneak": 3, "peak": 3, "straightforward": 3, "allow": 3, "inmediatli": 3, "specif": 3, "diff_svc_convert": 3, "svc_hubert_soft_diff_svc": 3, "model_train_400000": 3, "mismatch": 3, "residu": 3, "channel": 3, "same": 3, "normal": 3, "svc_hybert_soft_diff_svc": 3}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"fish": [0, 3], "diffus": 0, "content": 0, "quick": [0, 3], "guid": [0, 3], "configur": [0, 1], "common": 0, "question": 0, "preprocess": 1, "dataset": [1, 3], "appendix": 1, "pitch": 1, "extractor": 1, "faq": 2, "why": 2, "train": [2, 3], "i": 2, "so": 2, "slow": 2, "my": 2, "devic": 2, "gener": 2, "audio": 2, "blurri": 2, "weird": 2, "see": 2, "keyerror": 2, "pytorch": 2, "lightning_vers": 2, "some": 2, "error": 2, "about": 2, "miss": 2, "kei": 2, "when": 2, "resum": 2, "fishsvc": 3, "prepar": 3, "environ": 3, "time": 3, "infer": 3, "diff": 3, "svc": 3, "convers": 3, "TO": 3, "inferenc": 3, "diffsvc": 3, "convert": 3, "model": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx.ext.todo": 2, "sphinx": 57}, "alltitles": {"Fish Diffusion": [[0, "fish-diffusion"]], "Contents": [[0, "contents"]], "Quick Guide": [[0, "quick-guide"]], "Configuration": [[0, "configuration"], [1, "configuration"]], "Common Questions": [[0, "common-questions"]], "Preprocessing": [[1, "preprocessing"]], "Dataset": [[1, "dataset"]], "Appendix: Pitch Extractors": [[1, "appendix-pitch-extractors"]], "FAQ": [[2, "faq"]], "Why training is so slow on my device?": [[2, "why-training-is-so-slow-on-my-device"]], "Why the generated audio is blurry or weird?": [[2, "why-the-generated-audio-is-blurry-or-weird"]], "Why I see KeyError \u2018pytorch-lightning_version\u2019?": [[2, "why-i-see-keyerror-pytorch-lightning-version"]], "Why I see some error about missing keys when resuming training?": [[2, "why-i-see-some-error-about-missing-keys-when-resuming-training"]], "Quick FishSVC Guide": [[3, "quick-fishsvc-guide"]], "Preparing the environment": [[3, "preparing-the-environment"]], "Dataset Preparation": [[3, "dataset-preparation"]], "Training time!": [[3, "training-time"]], "Inference": [[3, "inference"]], "DIFF SVC CONVERSION TO FISH SVC": [[3, "diff-svc-conversion-to-fish-svc"]], "Inferencing with a DiffSVC converted model": [[3, "inferencing-with-a-diffsvc-converted-model"]]}, "indexentries": {}})